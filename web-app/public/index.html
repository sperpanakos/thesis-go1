<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unitree GO1 Video Stream</title>
    <link rel="stylesheet" type="text/css" href="/public/main.css">
    
</head>
<body>
    <header>
        <h1>Unitree G01 live-streaming</h1>
        <a href="info.html"><button>About the project</button></a>
    </header>
    <main>
        <img id="logo-image" src="public/up_2017_logo_en-1024x372.png" alt="Logo">
        <video id="my-video" autoplay controls>
          <source  type="application/x-mpegURL">
        </video>
            </main>
    <footer>
        <p>2022-2023 Â© Video Streaming app by Sperdoulis Panagiotis</p>
    </footer>
    <div id="command-line-container">
        <div id="command-line-title">Chat with the Robot</div>
        <div id="command-line-output"></div>
        <input type="text" id="command-line-input" placeholder="Enter a command...">
        <button id="clear-button">Clear</button>
      </div>

      
      <div id="status-container">
        <div id="status-title">Status</div>
        <table id="status-table">
          <tr>
            <td>Battery : </td>
            <td>10%</td>
          </tr>
          <tr>
            <td>Rotors  : </td>
            <td>Working</td>
          </tr>
        </table>
      </div>

      
    <script src="/socket.io/socket/io.js"></script>
    <script>
      const videoPlayer = document.getElementById('my-video')
      const socket = io()

      socket.on('stream',(data)=>{
        const blob = new Blob([data], { type: 'video/mp4' }) 
        const videoURL = URL.createObjectURL(blob)
        videoPlayer.src = videoURL
      })
    </script>
    
    <script src="/public/main.js"></script>    
</body>
</html>
